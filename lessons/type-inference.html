<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 6: Type Inference - TypeScript Learning Path</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#8b5cf6',
                        accent: '#06b6d4',
                    }
                }
            }
        }
    </script>
    <style>
        .code-block { @apply bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto font-mono text-sm; }
        .keyword { @apply text-purple-400; }
        .type { @apply text-yellow-400; }
        .string { @apply text-green-400; }
        .comment { @apply text-gray-500; }
        .function { @apply text-blue-400; }
        .progress-bar { @apply h-2 bg-gray-200 rounded-full overflow-hidden; }
        .progress-fill { @apply h-full bg-gradient-to-r from-primary to-accent transition-all duration-500; }
        .lesson-nav { @apply flex items-center justify-between p-4 bg-white rounded-lg shadow-sm border border-gray-200; }
        .nav-btn { @apply px-4 py-2 rounded-lg font-medium transition-colors; }
        .nav-btn:hover { @apply bg-gray-100; }
        .nav-btn:disabled { @apply opacity-50 cursor-not-allowed; }
        .nav-btn.primary { @apply bg-primary text-white hover:bg-blue-600; }
        .quiz-option { @apply p-3 border-2 rounded-lg cursor-pointer transition-all hover:border-primary hover:bg-blue-50; }
        .quiz-option.selected { @apply border-primary bg-blue-50; }
        .quiz-option.correct { @apply border-green-500 bg-green-50; }
        .quiz-option.incorrect { @apply border-red-500 bg-red-50; }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen">
    <div class="fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-50">
        <div class="max-w-4xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-700">Modul 3: Advanced Types</span>
                <span class="text-sm font-medium text-gray-700" id="progress-text">Lesson 6 of 10</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 60%"></div>
            </div>
        </div>
    </div>

    <main class="max-w-4xl mx-auto px-4 py-8 mt-16">
        <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <div class="flex items-center gap-3 mb-4">
                <span class="bg-primary text-white px-3 py-1 rounded-full text-sm font-medium">Modul 3</span>
                <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium">Lesson 6</span>
            </div>
            <h1 class="text-3xl font-bold text-gray-900 mb-4">Type Inference</h1>
            <p class="text-gray-600 leading-relaxed mb-6">
                <strong>Type Inference</strong> adalah kemampuan TypeScript untuk menebak (infer) tipe data berdasarkan nilai yang diberikan, tanpa perlu explicit type annotation. Memahami cara TypeScript melakukan inference membantu kita menulis kode yang lebih concise sekaligus type-safe.
            </p>
            <div class="flex items-center gap-4 text-sm text-gray-500">
                <span>‚è±Ô∏è 15 menit</span>
                <span>üìä Kesulitan: Menengah</span>
                <span>üìö Tipe: Advanced Types</span>
            </div>
        </div>

        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                <span class="bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">1</span>
                Tujuan Pembelajaran
            </h2>
            <ul class="space-y-3 text-gray-700">
                <li class="flex items-start gap-3">
                    <span class="text-green-500 mt-1">‚úì</span>
                    <span>Memahami bagaimana TypeScript melakukan type inference</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-500 mt-1">‚úì</span>
                    <span>Mengenali konteks di mana inference bekerja otomatis</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-500 mt-1">‚úì</span>
                    <span>Mengetahui kapan perlu explicit type annotation</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-500 mt-1">‚úì</span>
                    <span>Menggunakan <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">const</code> vs <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">let</code> untuk inference</span>
                </li>
            </ul>
        </section>

        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2">
                <span class="bg-secondary text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">2</span>
                Penjelasan
            </h2>

            <div class="prose max-w-none text-gray-700 leading-relaxed">
                <p class="mb-4">
                    TypeScript memiliki sistem type inference yang canggih. Sistem ini dapat menentukan tipe variabel berdasarkan nilai yang di-assign, tanpa perlu kita sebutkan tipe secara eksplisit. Namun, ada kalimatnya kita perlu memberikan type annotation agar TypeScript bisa memahami maksud kita dengan lebih baik.
                </p>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Inference pada Variable Declaration</h3>
                <div class="code-block mb-4">
<pre><code><span class="comment">// TypeScript inference menebak tipe dari nilai</span>
<span class="keyword">let</span> message = <span class="string">"hello"</span>;     <span class="comment">// inferred: string</span>
<span class="keyword">let</span> count = <span class="type">42</span>;           <span class="comment">// inferred: number</span>
<span class="keyword">let</span> isDone = <span class="keyword">true</span>;      <span class="comment">// inferred: boolean</span>

<span class="comment">// const memberikan inference yang lebih ketat</span>
<span class="keyword">const</span> PI = <span class="type">3.14</span>;       <span class="comment">// inferred: 3.14 (literal type, bukan number)</span>
<span class="keyword">const</span> names = [<span class="string">"Alice"</span>, <span class="string">"Bob"</span>]; <span class="comment">// inferred: string[]</span></code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Contextual Typing (Inference dari Context)</h3>
                <p class="mb-2">
                    TypeScript bisa menebak tipe berdasarkan konteks di mana variabel digunakan, seperti parameter function atau return type.
                </p>
                <div class="code-block mb-4">
<pre><code><span class="comment">// Function tanpa explicit return type - TypeScript infers dari return</span>
<span class="keyword">function</span> <span class="function">add</span>(x: <span class="type">number</span>, y: <span class="type">number</span>) {
    <span class="keyword">return</span> x + y;  <span class="comment">// inferred: number</span>
}

<span class="comment">// Arrow function dengan implicit return</span>
<span class="keyword">const</span> multiply = (a: <span class="type">number</span>, b: <span class="type">number</span>) => a * b;  <span class="comment">// inferred: number</span>

<span class="comment">// Array methods - callback parameter inferred</span>
<span class="keyword">const</span> numbers = [<span class="type">1</span>, <span class="type">2</span>, <span class="type">3</span>];
<span class="keyword">const</span> doubled = numbers.<span class="function">map</span>(n => n * <span class="type">2</span>);  <span class="comment">// n inferred as number</span></code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Best Practices: Kapan Perlu Explicit Annotation?</h3>
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4">
                    <p class="text-blue-800 font-semibold mb-2">Gunakan explicit type annotation ketika:</p>
                    <ul class="list-disc pl-6 space-y-1 text-blue-800">
                        <li>Function public API (untuk dokumentasi yang jelas)</li>
                        <li>Return type function yang kompleks</li>
                        <li>Object literals agar shape tetap konsisten</li>
                        <li>Menghindari implicit <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">any</code></li>
                    </ul>
                </div>
                <div class="code-block mb-4">
<pre><code><span class="comment">// ‚úÖ Explicit annotation untuk API function</span>
<span class="keyword">function</span> <span class="function">processUser</span>(user: User): ProcessResult {
    <span class="comment">// ... implementation</span>
}

<span class="comment">// ‚ùå Inference bisa menghasilkan any jika tidak jelas</span>
<span class="keyword">function</span> <span class="function">badExample</span>(data) {  <span class="comment">// data: any (implicit any - error strict mode)</span>
    <span class="keyword">return</span> data.<span class="function">map</span>(x => x * <span class="type">2</span>);
}</code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Literal Types vs Wider Types</h3>
                <div class="code-block mb-4">
<pre><code><span class="keyword">const</span> status = <span class="string">"success"</span>;  <span class="comment">// inferred type: "success" (string literal)</span>
<span class="keyword">let</span> mutableStatus = <span class="string">"success"</span>;  <span class="comment">// inferred type: string</span>

<span class="keyword">const</span> answer = <span class="type">42</span>;  <span class="comment">// inferred: 42 (numeric literal)</span>
<span class="keyword">let</span> mutableAnswer = <span class="type">42</span>;  <span class="comment">// inferred: number</span>

<span class="comment">// Untuk memberi wider type pada const, gunakan type assertion atau assignment ke let</span>
<span class="keyword">const</span> flexible: <span class="type">number</span> = <span class="type">42</span>;  <span class="comment">// explicit: number</span></code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Inference pada Arrays dan Objects</h3>
                <div class="code-block mb-4">
<pre><code><span class="comment">// Array - TypeScript determines element type</span>
<span class="keyword">const</span> fruits = [<span class="string">"apple"</span>, <span class="string">"banana"</span>];  <span class="comment">// inferred: string[]</span>

<span class="comment">// Object - inferred dari properties</span>
<span class="keyword">const</span> point = { x: <span class="type">10</span>, y: <span class="type">20</span> };  <span class="comment">// inferred: { x: number; y: number; }</span>

<span class="comment">// Empty array - inferred as any[] (avoid!)</span>
<span class="keyword">const</span> empty = [];  <span class="comment">// any[]</span>
<span class="comment">// Better: provide explicit type</span>
<span class="keyword">const</span> numbers: <span class="type">number</span>[] = [];</code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Inference dalam Generic Functions</h3>
                <div class="code-block mb-4">
<pre><code><span class="comment">// Generic identity function - T inferred dari argument</span>
<span class="keyword">function</span> <span class="function">identity</span>&lt;<span class="type">T</span>&gt;(arg: T): T {
    <span class="keyword">return</span> arg;
}

<span class="function">identity</span>(<span class="string">"hello"</span>);  <span class="comment">// T inferred as string</span>
<span class="function">identity</span>(<span class="type">42</span>);     <span class="comment">// T inferred as number</span></code></pre>
                </div>

                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
                    <p class="text-yellow-800">
                        <strong>‚ö†Ô∏è Perhatian:</strong> Inference sangat membantu, tapi kadang bisa menghasilkan tipe yang lebih ketat (literal types) atau lebih longgar (any) dari yang kita harapkan. Selalu pahami hasil inference dan berikan explicit annotation ketika needed untuk clarity.
                    </p>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2">
                <span class="bg-accent text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">3</span>
                Latihan
            </h2>

            <div class="space-y-6">
                <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="font-semibold text-gray-900 mb-3">Latihan 1: Inference pada Function</h3>
                    <p class="text-gray-700 mb-4">
                        Buat function <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">createUser</code> yang menerima <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">name: string</code> dan <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">age: number</code>, mengembalikan object user. Cek tipe return yang di-infer TypeScript. Tambahkan explicit return type annotation untuk memastikan shape yang konsisten.
                    </p>
                    <details class="cursor-pointer">
                        <summary class="text-primary font-medium hover:text-blue-700">Lihat Solusi</summary>
                        <div class="mt-4 code-block">
<pre><code><span class="comment">// Tanpa explicit type - inferred dari return object</span>
<span class="keyword">function</span> <span class="function">createUser</span>(name: <span class="type">string</span>, age: <span class="type">number</span>) {
    <span class="keyword">return</span> { name, age, id: Date.<span class="function">now</span>() };
    <span class="comment">// inferred: { name: string; age: number; id: number; }</span>
}

<span class="comment">// Dengan explicit annotation (recommended untuk public API)</span>
<span class="keyword">interface</span> <span class="function">User</span> {
    name: <span class="type">string</span>;
    age: <span class="type">number</span>;
    id: <span class="type">number</span>;
}

<span class="keyword">function</span> <span class="function">createUserExplicit</span>(name: <span class="type">string</span>, age: <span class="type">number</span>): User {
    <span class="keyword">return</span> { name, age, id: Date.<span class="function">now</span>() };
}</code></pre>
                        </div>
                    </details>
                </div>

                <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="font-semibold text-gray-900 mb-3">Latihan 2: Const vs Let Inference</h3>
                    <p class="text-gray-700 mb-4">
                        Buat dua variabel: <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">const status = "active"</code> dan <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">let mutableStatus = "active"</code>. Cek tipe yang di-infer untuk masing-masing. Coba assignment <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">status = "inactive"</code> (error) vs <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">mutableStatus = "inactive"</code> (OK).
                    </p>
                    <details class="cursor-pointer">
                        <summary class="text-primary font-medium hover:text-blue-700">Lihat Solusi</summary>
                        <div class="mt-4 code-block">
<pre><code><span class="keyword">const</span> status = <span class="string">"active"</span>;   <span class="comment">// inferred: "active" (literal type)</span>
<span class="keyword">let</span> mutableStatus = <span class="string">"active"</span>;  <span class="comment">// inferred: string</span>

<span class="comment">// status = "inactive"; // Error! "active" != "inactive"</span>
mutableStatus = <span class="string">"inactive"</span>;  <span class="comment">// OK - mutableStatus adalah string</span>

<span class="comment">// Untuk memberikan const wider type:</span>
<span class="keyword">const</span> flexibleStatus: <span class="type">string</span> = <span class="string">"active"</span>;  <span class="comment">// explicit: string</span></code></pre>
                        </div>
                    </details>
                </div>
            </div>
        </section>

        <nav class="lesson-nav" aria-label="Lesson navigation">
            <button class="nav-btn primary" onclick="alert('Previous lesson')">
                ‚Üê Sebelumnya
            </button>
            <div class="text-sm text-gray-500">
                Modul 3 - Lesson 6 dari 10
            </div>
            <button class="nav-btn primary" onclick="alert('Next lesson')">
                Selanjutnya ‚Üí
            </button>
        </nav>
    </main>

    <script>
        console.log('Type Inference lesson loaded');
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 2: Intersection Types - TypeScript Learning Path</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#8b5cf6',
                        accent: '#06b6d4',
                    }
                }
            }
        }
    </script>
    <style>
        .code-block { @apply bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto font-mono text-sm; }
        .keyword { @apply text-purple-400; }
        .type { @apply text-yellow-400; }
        .string { @apply text-green-400; }
        .comment { @apply text-gray-500; }
        .function { @apply text-blue-400; }
        .progress-bar { @apply h-2 bg-gray-200 rounded-full overflow-hidden; }
        .progress-fill { @apply h-full bg-gradient-to-r from-primary to-accent transition-all duration-500; }
        .lesson-nav { @apply flex items-center justify-between p-4 bg-white rounded-lg shadow-sm border border-gray-200; }
        .nav-btn { @apply px-4 py-2 rounded-lg font-medium transition-colors; }
        .nav-btn:hover { @apply bg-gray-100; }
        .nav-btn:disabled { @apply opacity-50 cursor-not-allowed; }
        .nav-btn.primary { @apply bg-primary text-white hover:bg-blue-600; }
        .quiz-option { @apply p-3 border-2 rounded-lg cursor-pointer transition-all hover:border-primary hover:bg-blue-50; }
        .quiz-option.selected { @apply border-primary bg-blue-50; }
        .quiz-option.correct { @apply border-green-500 bg-green-50; }
        .quiz-option.incorrect { @apply border-red-500 bg-red-50; }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen">
    <!-- Progress Bar -->
    <div class="fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-50">
        <div class="max-w-4xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-700">Modul 3: Advanced Types</span>
                <span class="text-sm font-medium text-gray-700" id="progress-text">Lesson 2 of 10</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 20%"></div>
            </div>
        </div>
    </div>

    <main class="max-w-4xl mx-auto px-4 py-8 mt-16">
        <!-- Lesson Header -->
        <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <div class="flex items-center gap-3 mb-4">
                <span class="bg-primary text-white px-3 py-1 rounded-full text-sm font-medium">Modul 3</span>
                <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium">Lesson 2</span>
            </div>
            <h1 class="text-3xl font-bold text-gray-900 mb-4">Intersection Types</h1>
            <p class="text-gray-600 leading-relaxed mb-6">
                <strong>Intersection Types</strong> adalah kebalikan dari Union Types. Intersection menggabungkan beberapa tipe menjadi satu tipe baru yang memiliki semua properties dan methods dari setiap tipe yang digabungkan. Ini sangat berguna untuk compose tipe dari beberapa interface atau type.
            </p>
            <div class="flex items-center gap-4 text-sm text-gray-500">
                <span>‚è±Ô∏è 20 menit</span>
                <span>üìä Kesulitan: Menengah</span>
                <span>üìö Tipe: Advanced Types</span>
            </div>
        </div>

        <!-- Tujuan Pembelajaran -->
        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                <span class="bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">1</span>
                Tujuan Pembelajaran
            </h2>
            <ul class="space-y-3 text-gray-700">
                <li class="flex items-start gap-3">
                    <span class="text-green-500 mt-1">‚úì</span>
                    <span>Memahami konsep Intersection Types dan perbedaannya dengan Union Types</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-500 mt-1">‚úì</span>
                    <span>Menggabungkan beberapa interface atau type dengan operator <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">&</code></span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-500 mt-1">‚úì</span>
                    <span>Menerapkan Intersection Types untuk compose object tipe</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-green-500 mt-1">‚úì</span>
                    <span>Menggunakan Intersection dengan function types</span>
                </li>
            </ul>
        </section>

        <!-- Penjelasan -->
        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2">
                <span class="bg-secondary text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">2</span>
                Penjelasan
            </h2>

            <div class="prose max-w-none text-gray-700 leading-relaxed">
                <p class="mb-4">
                    Intersection Types menggabungkan beberapa tipe menjadi satu tipe yang memiliki semua anggota dari setiap tipe yang digabungkan. Operator yang digunakan adalah <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">&</code> (bitwise AND). Jika Union adalah "OR" (satu dari beberapa tipe), maka Intersection adalah "AND" (harus memiliki semua tipe).
                </p>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Sintaks Dasar</h3>
                <div class="code-block mb-4">
<pre><code><span class="comment">// Intersection dari dua interface</span>
<span class="keyword">interface</span> <span class="function">Named</span> {
    name: <span class="type">string</span>;
}

<span class="keyword">interface</span> <span class="function"> Aged</span> {
    age: <span class="type">number</span>;
}

<span class="comment">// Person memiliki properti dari Named & Aged</span>
<span class="keyword">type</span> <span class="function">Person</span> = Named & Aged;

<span class="keyword">let</span> user: Person = {
    name: <span class="string">"Alice"</span>,
    age: <span class="type">30</span>
    <span class="comment">// OK - memiliki kedua properti</span>
};</code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Intersection dengan Lebih dari Dua Tipe</h3>
                <div class="code-block mb-4">
<pre><code><span class="keyword">interface</span> <span class="function">HasId</span> {
    id: <span class="type">number</span>;
}

<span class="keyword">interface</span> <span class="function">HasName</span> {
    name: <span class="type">string</span>;
}

<span class="keyword">interface</span> <span class="function">HasEmail</span> {
    email: <span class="type">string</span>;
}

<span class="keyword">type</span> <span class="function">User</span> = HasId & HasName & HasEmail;

<span class="keyword">let</span> user: User = {
    id: <span class="type">1</span>,
    name: <span class="string">"Bob"</span>,
    email: <span class="string">"bob@example.com"</span>
};</code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Intersection dengan Object Literals</h3>
                <div class="code-block mb-4">
<pre><code><span class="keyword">type</span> <span class="function">Admin</span> = {
    role: <span class="type">string</span>;
    permissions: <span class="type">string</span>[];
};

<span class="keyword">type</span> <span class="function">Employee</span> = {
    name: <span class="type">string</span>;
    employeeId: <span class="type">number</span>;
};

<span class="keyword">type</span> <span class="function">AdminEmployee</span> = Admin & Employee;

<span class="keyword">let</span> adminEmp: AdminEmployee = {
    role: <span class="string">"admin"</span>,
    permissions: [<span class="string">"read"</span>, <span class="string">"write"</span>],
    name: <span class="string">"Charlie"</span>,
    employeeId: <span class="type">123</span>
};</code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Intersection dengan Function Types</h3>
                <p class="mb-4">
                    Intersection juga bisa digunakan untuk menggabungkan beberapa function types menjadi satu function yang memiliki parameter dan return dari semua function yang digabungkan.
                </p>
                <div class="code-block mb-4">
<pre><code><span class="keyword">type</span> <span class="function">LoggingFunction</span> = (msg: <span class="type">string</span>) => <span class="keyword">void</span>;
<span class="keyword">type</span> <span class="function">FormattingFunction</span> = (msg: <span class="type">string</span>) => <span class="type">string</span>;

<span class="comment">// Function yang bisa logging dan formatting</span>
<span class="keyword">type</span> <span class="function">LoggerFormatter</span> = LoggingFunction & FormattingFunction;

<span class="keyword">let</span> loggerFormatter: LoggerFormatter;
loggerFormatter = (msg: <span class="type">string</span>) => {
    console.<span class="function">log</span>(msg);
    <span class="keyword">return</span> msg.<span class="function">toUpperCase</span>();
};</code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Menggabungkan Class dengan Interface</h3>
                <div class="code-block mb-4">
<pre><code><span class="keyword">interface</span> <span class="function">Timestamped</span> {
    timestamp: <span class="type">Date</span>;
}

<span class="keyword">class</span> <span class="function">Event</span> {
    constructor(public name: <span class="type">string</span>) {}
}

<span class="comment">// Event dengan tambahan timestamp</span>
<span class="keyword">type</span> <span class="function">TimedEvent</span> = Event & Timestamped;

<span class="keyword">let</span> timedEvent = <span class="keyword">new</span> <span class="function">Event</span>(<span class="string">"click"</span>);
timedEvent.timestamp = <span class="keyword">new</span> <span class="function">Date</span>();  <span class="comment">// OK - ditambahkan via intersection</span></code></pre>
                </div>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Perbandingan: Union vs Intersection</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full border border-gray-300 mb-4">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="border border-gray-300 px-4 py-2 text-left">Union (<code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">|</code>)</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">Intersection (<code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">&</code>)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">"Satu dari beberapa tipe"</td>
                                <td class="border border-gray-300 px-4 py-2">"Memiliki semua tipe"</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">A = T1 | T2</td>
                                <td class="border border-gray-300 px-4 py-2">A = T1 & T2</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">Harus type narrowing untuk akses properti spesifik</td>
                                <td class="border border-gray-300 px-4 py-2">Semua properti dari semua tipe tersedia</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Latihan -->
        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2">
                <span class="bg-accent text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">3</span>
                Latihan
            </h2>

            <div class="space-y-6">
                <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="font-semibold text-gray-900 mb-3">Latihan 1: Buat Tipe Komposit</h3>
                    <p class="text-gray-700 mb-4">
                        Buat tipe <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">Contact</code> yang menggabungkan <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">HasName</code> (name: string) dan <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">HasEmail</code> (email: string). Buat variabel yang memenuhi tipe tersebut.
                    </p>
                    <details class="cursor-pointer">
                        <summary class="text-primary font-medium hover:text-blue-700">Lihat Solusi</summary>
                        <div class="mt-4 code-block">
<pre><code><span class="keyword">interface</span> <span class="function">HasName</span> {
    name: <span class="type">string</span>;
}

<span class="keyword">interface</span> <span class="function">HasEmail</span> {
    email: <span class="type">string</span>;
}

<span class="keyword">type</span> <span class="function">Contact</span> = HasName & HasEmail;

<span class="keyword">let</span> contact: Contact = {
    name: <span class="string">"Diana"</span>,
    email: <span class="string">"diana@example.com"</span>
};</code></pre>
                        </div>
                    </details>
                </div>

                <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="font-semibold text-gray-900 mb-3">Latihan 2: Function Composition</h3>
                    <p class="text-gray-700 mb-4">
                        Buat dua function types: <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">Validator</code> (input: any) => boolean dan <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">Transformer</code> (input: any) => any. Gabungkan menjadi <code class="bg-gray-100 px-2 py-1 rounded text-sm font-mono">ValidatingTransformer</code> yang melakukan keduanya.
                    </p>
                    <details class="cursor-pointer">
                        <summary class="text-primary font-medium hover:text-blue-700">Lihat Solusi</summary>
                        <div class="mt-4 code-block">
<pre><code><span class="keyword">type</span> <span class="function">Validator</span> = (data: <span class="keyword">any</span>) => <span class="keyword">boolean</span>;
<span class="keyword">type</span> <span class="function">Transformer</span> = (data: <span class="keyword">any</span>) => <span class="keyword">any</span>;

<span class="keyword">type</span> <span class="function">ValidatingTransformer</span> = Validator & Transformer;

<span class="keyword">let</span> process: ValidatingTransformer;
process = (data) => {
    <span class="keyword">if</span> (data <  <span class="type">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;
    <span class="keyword">return</span> data * <span class="type">2</span>;
};</code></pre>
                        </div>
                    </details>
                </div>
            </div>
        </section>

        <!-- Navigasi -->
        <nav class="lesson-nav" aria-label="Lesson navigation">
            <button class="nav-btn primary" onclick="alert('Previous lesson')">
                ‚Üê Sebelumnya
            </button>
            <div class="text-sm text-gray-500">
                Modul 3 - Lesson 2 dari 10
            </div>
            <button class="nav-btn primary" onclick="alert('Next lesson')">
                Selanjutnya ‚Üí
            </button>
        </nav>
    </main>

    <script>
        console.log('Intersection Types lesson loaded');
    </script>
</body>
</html>
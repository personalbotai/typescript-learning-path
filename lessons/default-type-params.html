<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 4: Default Type Parameters - TypeScript Learning Path</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#8b5cf6',
                        accent: '#06b6d4',
                    }
                }
            }
        }
    </script>
    <style>
        .code-block { @apply bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto font-mono text-sm; }
        .keyword { @apply text-purple-400; }
        .type { @apply text-yellow-400; }
        .string { @apply text-green-400; }
        .comment { @apply text-gray-500; }
        .function { @apply text-blue-400; }
        .progress-bar { @apply h-2 bg-gray-200 rounded-full overflow-hidden; }
        .progress-fill { @apply h-full bg-gradient-to-r from-primary to-accent transition-all duration-500; }
        .lesson-nav { @apply flex items-center justify-between p-4 bg-white rounded-lg shadow-sm border border-gray-200; }
        .nav-btn { @apply px-4 py-2 rounded-lg font-medium transition-colors; }
        .nav-btn:hover { @apply bg-gray-100; }
        .nav-btn:disabled { @apply opacity-50 cursor-not-allowed; }
        .nav-btn.primary { @apply bg-primary text-white hover:bg-blue-600; }
        .quiz-option { @apply p-3 border-2 rounded-lg cursor-pointer transition-all hover:border-primary hover:bg-blue-50; }
        .quiz-option.selected { @apply border-primary bg-blue-50; }
        .quiz-option.correct { @apply border-green-500 bg-green-50; }
        .quiz-option.incorrect { @apply border-red-500 bg-red-50; }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen">
    <!-- Progress Bar -->
    <div class="fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-50">
        <div class="max-w-4xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-700">Modul 7: Generics</span>
                <span class="text-sm font-medium text-gray-700" id="progress-text">Lesson 4 of 6</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 66.67%"></div>
            </div>
        </div>
    </div>

    <main class="max-w-4xl mx-auto px-4 py-8 mt-16">
        <!-- Lesson Header -->
        <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <div class="flex items-center gap-3 mb-4">
                <span class="bg-primary text-white px-3 py-1 rounded-full text-sm font-medium">Modul 7</span>
                <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium">Lesson 4</span>
            </div>
            <h1 class="text-3xl font-bold text-gray-900 mb-4">Default Type Parameters</h1>
            <p class="text-gray-600 leading-relaxed mb-6">
                <strong>Default type parameters</strong> memungkinkan memberikan nilai default untuk generic type parameters. Fitur ini mengurangi boilerplate saat tipe yang umum digunakan tidak perlu ditentukan secara eksplisit. Default parameters didefinisikan setelah nama parameter dengan syntax <code class="bg-gray-100 px-2 py-1 rounded font-mono">= DefaultType</code>.
            </p>
            <div class="flex items-center gap-4 text-sm text-gray-500">
                <span>‚è±Ô∏è 15 menit</span>
                <span>üìä Kesulitan: Menengah</span>
            </div>
        </div>

        <!-- Learning Objectives -->
        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">üéØ Tujuan Pembelajaran</h2>
            <ul class="space-y-3 text-gray-700">
                <li class="flex items-start gap-3">
                    <span class="text-primary mt-1">‚úì</span>
                    <span>Memahami syntax default type parameters</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-primary mt-1">‚úì</span>
                    <span>Mengurangi explicit type annotations dengan defaults</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-primary mt-1">‚úì</span>
                    <span>Default parameters pada functions, interfaces, dan classes</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-primary mt-1">‚úì</span>
                    <span>Memahami type inference dengan defaults</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="text-primary mt-1">‚úì</span>
                    <span>Kapan menggunakan default type parameters</span>
                </li>
            </ul>
        </section>

        <!-- Main Content -->
        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6">üìö Syntax dan Penggunaan</h2>

            <p class="text-gray-700 leading-relaxed mb-6">
                Default type parameters ditentukan setelah nama type parameter menggunakan <code class="bg-gray-100 px-2 py-1 rounded font-mono">=</code>. Ketika generic digunakan tanpa explicit type argument, TypeScript akan menggunakan default.
            </p>

            <h3 class="text-xl font-bold text-gray-900 mb-4">Generic Function dengan Default</h3>
            <div class="code-block mb-6">
                <pre><code><span class="comment">// Default T = string</span>
<span class="keyword">function</span> <span class="function">create</span>&lt;<span class="type">T</span> = <span class="type">string</span>&gt;(value: <span class="type">T</span>): <span class="type">T</span> {
    <span class="keyword">return</span> value;
}

<span class="comment">// T inferred as string (default)</span>
<span class="keyword">const</span> a = create(<span class="string">"hello"</span>); <span class="comment">// string</span>

<span class="comment">// T inferred as number (from argument)</span>
<span class="keyword">const</span> b = create(<span class="type">42</span>);     <span class="comment">// number</span>

<span class="comment">// Explicit override</span>
<span class="keyword">const</span> c = create&lt;<span class="type">boolean</span>&gt;(<span class="keyword">true</span>); <span class="comment">// boolean</span></code></pre>
            </div>

            <h3 class="text-xl font-bold text-gray-900 mb-4">Interface dengan Default Type</h3>
            <p class="text-gray-700 leading-relaxed mb-6">
                Default parameters sangat berguna untuk interface yang biasanya digunakan dengan tipe tertentu.
            </p>
            <div class="code-block mb-6">
                <pre><code><span class="keyword">interface</span> <span class="type">Config</span>&lt;<span class="type">T</span> = <span class="type">string</span>&gt; {
    key: <span class="type">T</span>;
    value: <span class="type">T</span>;
}

<span class="comment">// Uses default: Config&lt;string&gt;</span>
<span class="keyword">const</span> config1: <span class="type">Config</span> = {
    key: <span class="string">"host"</span>,
    value: <span class="string">"localhost"</span>
};

<span class="comment">// Explicit: Config&lt;number&gt;</span>
<span class="keyword">const</span> config2: <span class="type">Config</span>&lt;<span class="type">number</span>&gt; = {
    key: <span class="type">1</span>,
    value: <span class="type">8080</span>;
};</code></pre>
            </div>

            <h3 class="text-xl font-bold text-gray-900 mb-4">Generic Class dengan Default</h3>
            <div class="code-block mb-6">
                <pre><code><span class="keyword">class</span> <span class="type">Wrapper</span>&lt;<span class="type">T</span> = <span class="type">any</span>&gt; {
    <span class="keyword">constructor</span>(<span class="keyword">private</span> value: <span class="type">T</span>) {}

    get(): <span class="type">T</span> {
        <span class="keyword">return</span> <span class="keyword">this</span>.value;
    }

    set(value: <span class="type">T</span>): <span class="type">void</span> {
        <span class="keyword">this</span>.value = value;
    }
}

<span class="comment">// Default any</span>
<span class="keyword">const</span> w1 = <span class="keyword">new</span> <span class="type">Wrapper</span>(<span class="string">"hello"</span>);  <span class="comment">// Wrapper&lt;string&gt;</span>
<span class="keyword">const</span> w2 = <span class="keyword">new</span> <span class="type">Wrapper</span>(<span class="type">123</span>);     <span class="comment">// Wrapper&lt;number&gt;</span>

<span class="comment">// Explicit</span>
<span class="keyword">const</span> w3 = <span class="keyword">new</span> <span class="type">Wrapper</span>&lt;<span class="type">boolean</span>&gt;(<span class="keyword">true</span>);</code></pre>
            </div>

            <h3 class="text-xl font-bold text-gray-900 mb-4">Multiple Parameters dengan Default</h3>
            <p class="text-gray-700 leading-relaxed mb-6">
                Beberapa type parameters bisa memiliki default masing-masing. Default berlaku dari kiri ke kanan - type parameter kanan bisa merefer default dari kiri.
            </p>
            <div class="code-block mb-6">
                <pre><code><span class="comment">// Two type parameters with defaults</span>
<span class="keyword">function</span> <span class="function">createTuple</span>&lt;
    <span class="type">T</span> = <span class="type">string</span>,
    <span class="type">U</span> = <span class="type">number</span>
&gt;(first: <span class="type">T</span>, second: <span class="type">U</span>): [<span class="type">T</span>, <span class="type">U</span>] {
    <span class="keyword">return</span> [first, second];
}

<span class="comment">// Both defaults</span>
<span class="keyword">const</span> t1 = createTuple(<span class="string">"a"</span>, <span class="type">1</span>); <span class="comment">// [string, number]</span>

<span class="comment">// Override first, default second</span>
<span class="keyword">const</span> t2 = createTuple&lt;<span class="type">boolean</span>&gt;(<span class="keyword">true</span>); <span class="comment">// [boolean, number]</span>

<span class="comment">// Override both</span>
<span class="keyword">const</span> t3 = createTuple&lt;<span class="type">number</span>, <span class="type">string</span>&gt;(<span class="type">42</span>, <span class="string">"answer"</span>); <span class="comment">// [number, string]</span></code></pre>
            </div>

            <h3 class="text-xl font-bold text-gray-900 mb-4">Real-World Use Case: HTTP Client</h3>
            <div class="code-block mb-6">
                <pre><code><span class="keyword">interface</span> <span class="type">HttpResponse</span>&lt;<span class="type">T</span> = <span class="keyword">any</span>&gt; {
    status: <span class="type">number</span>;
    data: <span class="type">T</span>;
    headers: <span class="type">Record</span>&lt;<span class="type">string</span>, <span class="type">string</span>&gt;;
}

<span class="keyword">function</span> <span class="function">fetch</span>&lt;<span class="type">T</span> = <span class="keyword">any</span>&gt;(url: <span class="type">string</span>): <span class="type">Promise</span>&lt;<span class="type">HttpResponse</span>&lt;<span class="type">T</span>&gt;&gt; {
    <span class="keyword">return</span> fetch(url).then(res => res.json()) <span class="keyword">as</span> <span class="keyword">any</span>;
}

<span class="comment">// Without specifying T - defaults to any</span>
<span class="keyword">const</span> response1 = <span class="keyword">await</span> fetch(<span class="string">"/api/data"</span>);
console.log(response1.data); <span class="comment">// any</span>

<span class="comment">// With explicit T for type safety</span>
<span class="keyword">interface</span> <span class="type">UserData</span> {
    id: <span class="type">number</span>;
    name: <span class="type">string</span>;
}
<span class="keyword">const</span> response2 = <span class="keyword">await</span> fetch&lt;<span class="type">UserData</span>&gt;(<span class="string">"/api/user/1"</span>);
console.log(response2.data.name); <span class="comment">// string - type safe!</span></code></pre>
            </div>

            <h3 class="text-xl font-bold text-gray-900 mb-4">When to Use Default Type Parameters</h3>
            <ul class="list-disc list-inside text-gray-700 mb-6 space-y-2">
                <li>Ketika generic biasanya digunakan dengan tipe tertentu (misal: <code class="bg-gray-100 px-2 py-1 rounded font-mono">any</code> atau <code class="bg-gray-100 px-2 py-1 rounded font-mono">unknown</code>)</li>
                <li>Untuk mengurangi explicit type annotations di code yang call generic</li>
                <li>Ketika backward compatibility diperlukan untuk existing code</li>
                <li>Untuk providing sensible defaults yang bisa di-override</li>
            </ul>

            <h3 class="text-xl font-bold text-gray-900 mb-4">Limitations</h3>
            <p class="text-gray-700 leading-relaxed mb-6">
                Default type parameters hanya bisa menggunakan tipe yang sudah terdefinisi atau type parameter sebelumnya. Tidak bisa menggunakan typeof atau query types dalam default (karena akan circular).
            </p>
        </section>

        <!-- Exercises -->
        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6">üíª Exercises</h2>
            
            <div class="space-y-6">
                <div class="border-l-4 border-primary pl-4">
                    <h3 class="font-bold text-gray-900 mb-2">1. Default to void</h3>
                    <p class="text-gray-700 mb-3">
                        Buat generic function <code class="bg-gray-100 px-2 py-1 rounded font-mono">callback&lt;T = void&gt;(value: T, cb: (val: T) => void): void</code> dengan default <code class="bg-gray-100 px-2 py-1 rounded font-mono">T = void</code>. Test dengan dan tanpa explicit type.
                    </p>
                </div>

                <div class="border-l-4 border-secondary pl-4">
                    <h3 class="font-bold text-gray-900 mb-2">2. Mutable vs Readonly</h3>
                    <p class="text-gray-700 mb-3">
                        Buat generic interface <code class="bg-gray-100 px-2 py-1 rounded font-mono">Container</code> dengan default <code class="bg-gray-100 px-2 py-1 rounded font-mono">T</code> mutable. Tambahkan generic version <code class="bg-gray-100 px-2 py-1 rounded font-mono">ReadonlyContainer</code> yang extends <code class="bg-gray-100 px-2 py-1 rounded font-mono">Container</code> dengan <code class="bg-gray-100 px-2 py-1 rounded font-mono">T</code> readonly.
                    </p>
                </div>

                <div class="border-l-4 border-accent pl-4">
                    <h3 class="font-bold text-gray-900 mb-2">3. Pair dengan Default</h3>
                    <p class="text-gray-700 mb-3">
                        Buat generic class <code class="bg-gray-100 px-2 py-1 rounded font-mono">Pair</code> dengan dua type parameters <code class="bg-gray-100 px-2 py-1 rounded font-mono">T</code> dan <code class="bg-gray-100 px-2 py-1 rounded font-mono">U</code>, default both to <code class="bg-gray-100 px-2 py-1 rounded font-mono">unknown</code>. Buat instance tanpa specifying types dan observe inferred types.
                    </p>
                </div>
            </div>
        </section>

        <!-- Navigation -->
        <nav class="lesson-nav mb-8">
            <button class="nav-btn" onclick="alert('Previous lesson')">
                ‚Üê Sebelumnya
            </button>
            <button class="nav-btn primary" onclick="alert('Quiz akan dimuat setelah semua lesson selesai')">
                Quiz Module ‚Üí
            </button>
        </nav>
    </main>

    <script src="/typescript-curriculum/app.js"></script>
</body>
</html>